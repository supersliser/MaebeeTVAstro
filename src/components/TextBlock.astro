---
const { textColour, backColour } = Astro.props;
export function afterMount() {
    const elements = document.querySelectorAll(".anim");

    function handleScroll() {
        elements.forEach((element) => {
            const elementTop = element.getBoundingClientRect().top;
            const windowHeight = window.innerHeight;

            if (elementTop < windowHeight) {
                element.classList.add("fade-in");
            }
        });
    }

    window.addEventListener("scroll", handleScroll);
}
---

<style define:vars={{ backColour, textColour }}>
    div {
        width: 100%;
        height: fit-content;
        background-color: var(--backColour);
        color: var(--textColour);
        display: block;
        margin: 0;
        padding: 0;
        border-radius: 0;
    }
    .anim {
        color: black;
    }
    @keyframes fadeIn {
        from {
            opacity: 0;
            padding-top: 20px;
        }
        to {
            opacity: 1;
            padding-top: 0px;
        }
    }

    .fade-in {
        animation: fadeIn 1s ease-in-out;
    }
</style>

<div>
    <h1 class="anim">This is a text</h1>
    <p class="anim">These are test words</p>
</div>
